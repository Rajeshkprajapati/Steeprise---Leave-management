@using LMS.Model.DataViewModel.Employer.Dashboard;
@model IEnumerable<LMS.Model.DataViewModel.Employer.Dashboard.JobSeekerViewModel>

@*<h3>Job Applications</h3>
<div class="row">
    <div class="col-md-12 table-responsive">
        @if (Model.Count() > 0)
        {
            <table id="tableJobSeekersList" class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <!--<th>
                            CandidateId
                        </th>-->
                        <th>
                            Name
                        </th>
                        <th>
                            Contact No
                        </th>
                        <th>
                            Email
                        </th>
                        <th>
                            Gender
                        </th>
                        <th>
                            Skills
                        </th>
                        <th>
                            CTC
                        </th>
                        <th>
                            ECTC
                        </th>
                        <th>
                            Resume
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var jSeeker in Model)
                    {
                        <tr>
                            <td colspan="9" style="background:#bdbdbd;">
                                <div class="col-md-3">
                                    <h5>
                                        @jSeeker.JobTitleByEmployer
                                    </h5>
                                </div>
                                <div class="col-md-9">
                                    <p>
                                        <span class="bold-content">Job Roles:</span>&nbsp;&nbsp;<span style="font-weight:600;">@jSeeker.JobRoles</span>
                                    </p>
                                </div>
                            </td>
                        </tr>
                        foreach (var employee in jSeeker.jobSeekers)
                        {
                            <tr>
                                <!-- <td>
                                        employee.CandidateId
                                    </td> -->
                                <td>
                                    @employee.FullName
                                </td>
                                <td>
                                    @employee.MobileNo
                                </td>
                                <td>
                                    @employee.Email
                                </td>
                                <td>
                                    @employee.GenderName
                                </td>
                                <td style="word-break:break-all;">
                                    @employee.Skills.SkillSets
                                </td>
                                <td>
                                    @employee.CTC
                                </td>
                                <td>
                                    @employee.ECTC
                                </td>
                                <td>
                                    @if (!string.IsNullOrWhiteSpace(employee.Resume))
                                    {
                                        <a target="_blank" download href="@employee.Resume">Download Resume</a>
                                    }
                                    else
                                    {
                                        <span>Resume not attached</span>
                                    }
                                </td>

                            </tr>
                        }
                    }
                </tbody>
            </table>
        }
        else
        {
            <div class="row data-not-available">
                <label>
                    Data not found to display
                </label>
            </div>
        }
    </div>
</div>*@


<div class="dashboard-content">

        <!-- Titlebar -->
        <div id="titlebar">
            <div class="row">
                <div class="col-md-12">
                    <h2>Manage Resumes</h2>
                    <!-- Breadcrumbs -->
                    <nav id="breadcrumbs">
                        <ul>
                            <li>Home</li>
                            <li>Dashboard</li>
                            <li>Manage Resumes</li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>


        <div class="row">

            <!-- Table-->
            <div class="col-lg-12 col-md-12">                

                <div class="dashboard-list-box margin-top-30">
                    <div class="dashboard-list-box-content">

                        <!-- Table -->
                        <table class="manage-table resumes responsive-table">

                            <tr>
                                <th>Name</th>
                                <th>Contact</th>
                                <th>Email</th>
                                <th>Skills</th>
                                <th>CTC</th>
                                <th>ECTC</th>
                                <th>Resume</th>
                            </tr>
                            @if (Model.Count() > 0)
                            {
                                @foreach (var jobseeker in Model)
                                {
                                    <tr>
                                        <td colspan="9" style="background:#bdbdbd;">
                                            <div class="col-md-3">
                                                <h5>
                                                    @jobseeker.JobTitleByEmployer
                                                </h5>
                                            </div>
                                            <div class="col-md-9">
                                                <p>
                                                    <span class="bold-content">Job Roles:</span>&nbsp;&nbsp;<span style="font-weight:600;">@jobseeker.JobRoles</span>
                                                </p>
                                            </div>
                                        </td>
                                    </tr>
                                    @foreach (var employee in jobseeker.jobSeekers)
                                    {
                                        <tr>
                                            <td class="title">@employee.FullName</td>
                                            <td class="title">@employee.MobileNo</td>
                                            <td class="title">@employee.Email</td>
                                            <td class="title">@employee.Skills.SkillSets</td>
                                            <td class="title">@employee.CTC</td>
                                            <td class="title">@employee.ECTC</td>
                                            <td>
                                                @if (!string.IsNullOrWhiteSpace(employee.Resume))
                                                {
                                                    <a target="_blank" download href="@employee.Resume">Download Resume</a>
                                                }
                                                else
                                                {
                                                    <span>Resume not attached</span>
                                                }
                                            </td>
                                        </tr>
                                    }
                                }
                            }
                            else
                            {
                                <tr>
                                    <td>No data found to display</td>
                                </tr>
                            }

                        </table>
                    </div>
                </div>
            </div>

        </div>

    </div>